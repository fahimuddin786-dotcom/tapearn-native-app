<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TapEarn - Mining & Earning</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <!-- Main App Container -->
    <div class="app-container">
        <!-- Header -->
        <div class="app-header">
            <div class="header-content">
                <div class="wallet" onclick="showWalletHistory()">
                    <span class="wallet-icon">üí∞</span>
                    <span class="wallet-amount" id="walletPoints">0</span>
                    <span class="wallet-label">Points</span>
                </div>
                <div class="user-info">
                    <div class="user-level" id="userLevel">Bronze</div>
                    <div class="user-stats" id="userStats">0/500</div>
                </div>
            </div>
            
            <div class="level-progress">
                <div class="progress-bar">
                    <div class="progress-fill" id="levelProgress"></div>
                </div>
            </div>
        </div>

        <!-- Video Watch Modal -->
        <div id="videoWatchModal" class="modal">
            <div class="modal-content">
                <div class="modal-header">
                    <h3>üé¨ Watching Video</h3>
                    <button class="modal-close" onclick="closeVideoModal()">√ó</button>
                </div>
                <div class="video-player">
                    <div class="video-thumbnail-large">
                        <img id="modalVideoThumbnail" src="" alt="Video Thumbnail">
                    </div>
                    <div class="video-info-modal">
                        <div class="video-title-modal" id="modalVideoTitle"></div>
                        <div class="video-channel-modal" id="modalVideoChannel"></div>
                    </div>
                    <div class="video-points-info">
                        <div class="points-earning">Earning: <span id="modalVideoPoints">0</span> points</div>
                        <div class="watch-requirement">Watch for 1 minute to earn points</div>
                    </div>
                    
                    <!-- Timer Display Below Video -->
                    <div class="timer-display-container">
                        <div class="timer-text-large" id="modalTimerLarge">01:00</div>
                        <div class="timer-progress-container">
                            <div class="timer-progress-bar">
                                <div class="timer-progress-fill" id="timerProgressFill"></div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="modal-actions">
                    <button class="btn-cancel" onclick="closeVideoModal()">Cancel</button>
                    <div class="watch-progress">
                        <div class="progress-text" id="modalProgressText">Keep watching...</div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Success Popup Modal -->
        <div id="successPopup" class="modal">
            <div class="modal-content success-popup">
                <div class="success-icon">üéâ</div>
                <h3 id="successTitle">Success!</h3>
                <p id="successMessage">You have earned points successfully!</p>
                <button class="btn-success" onclick="closeSuccessPopup()">Awesome!</button>
            </div>
        </div>

        <!-- Points Claim Popup -->
        <div id="pointsClaimPopup" class="modal">
            <div class="modal-content success-popup">
                <div class="success-icon">üí∞</div>
                <h3 id="pointsClaimTitle">Points Claimed!</h3>
                <p id="pointsClaimMessage">You have earned <span id="claimedPoints">0</span> points!</p>
                <button class="btn-success" onclick="closePointsClaimPopup()">Awesome!</button>
            </div>
        </div>

        <!-- Wallet History Modal -->
        <div id="walletHistoryModal" class="modal">
            <div class="modal-content">
                <div class="modal-header">
                    <h3>üìä Wallet History</h3>
                    <button class="modal-close" onclick="closeWalletHistory()">√ó</button>
                </div>
                <div class="wallet-history-content">
                    <div class="history-stats">
                        <div class="history-stat">
                            <div class="stat-number" id="totalEarnedHistory">0</div>
                            <div class="stat-label">Total Earned</div>
                        </div>
                        <div class="history-stat">
                            <div class="stat-number" id="todayEarnedHistory">0</div>
                            <div class="stat-label">Today's Earnings</div>
                        </div>
                        <div class="history-stat">
                            <div class="stat-number" id="totalSpentHistory">0</div>
                            <div class="stat-label">Total Spent</div>
                        </div>
                    </div>
                    
                    <div class="history-tabs">
                        <button class="history-tab active" onclick="showAllHistory()">All</button>
                        <button class="history-tab" onclick="showEarningHistory()">Earnings</button>
                        <button class="history-tab" onclick="showSpendingHistory()">Spending</button>
                    </div>
                    
                    <div class="history-list" id="historyList">
                        <div class="no-history">No transactions yet</div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Telegram ID Capture Modal -->
        <div id="telegramIdModal" class="modal">
            <div class="modal-content">
                <div class="modal-header">
                    <h3>üì± Connect Telegram</h3>
                </div>
                <div class="video-player">
                    <div style="text-align: center; padding: 20px;">
                        <div style="font-size: 48px; margin-bottom: 15px;">üë§</div>
                        <h3 style="color: #FFD700; margin-bottom: 10px;">Welcome to TapEarn!</h3>
                        <p style="margin-bottom: 20px; opacity: 0.8;">To get started, please enter your Telegram username. This helps us track your earnings and rewards.</p>
                        
                        <div class="form-group">
                            <input type="text" class="search-input" id="telegramIdInput" placeholder="Enter your Telegram username (e.g., @username)" style="text-align: center;">
                        </div>
                        
                        <div style="background: rgba(255,215,0,0.1); padding: 15px; border-radius: 10px; border: 1px solid rgba(255,215,0,0.3); margin: 15px 0;">
                            <p style="font-size: 12px; margin: 0; color: #FFD700;">
                                üí° <strong>How to find your Telegram username:</strong><br>
                                1. Open Telegram App<br>
                                2. Go to Settings ‚Üí Edit Profile<br>
                                3. Copy your Username (must start with @)
                            </p>
                        </div>
                    </div>
                </div>
                <div class="modal-actions">
                    <button class="btn-success" onclick="saveTelegramId()" style="width: 100%;">‚úÖ Save & Continue</button>
                </div>
            </div>
        </div>

        <!-- Main Content Area -->
        <div class="app-content">
            <!-- Mining Content (Default) -->
            <div id="miningContent" class="content-page active">
                <div class="page-header">
                    <h2>‚õèÔ∏è Mining</h2>
                    <p class="page-subtitle">Passive income generator</p>
                </div>

                <!-- Main Mining Card -->
                <div class="main-mining-card" onclick="toggleMining()">
                    <div class="mining-icon">‚õèÔ∏è</div>
                    <div class="mining-title" id="miningTitle">Bronze Mining</div>
                    <div class="mining-status" id="miningStatusText">Click to start mining</div>
                    
                    <div class="mining-stats">
                        <div class="mining-stat">
                            <div class="stat-value" id="miningTime">00:00:00</div>
                            <div class="stat-label">Time</div>
                        </div>
                        <div class="mining-stat">
                            <div class="stat-value" id="miningRate">5/min</div>
                            <div class="stat-label">Rate</div>
                        </div>
                        <div class="mining-stat">
                            <div class="stat-value" id="miningMultiplier">1x</div>
                            <div class="stat-label">Multiplier</div>
                        </div>
                    </div>

                    <!-- Turbo Indicator -->
                    <div class="turbo-indicator" id="turboIndicator" style="display: none;">
                        üöÄ TURBO ACTIVE: <span id="turboTime">00:00</span>
                    </div>
                </div>

                <!-- Mining Controls -->
                <div class="mining-controls">
                    <button class="control-btn boost" onclick="claimBoost()">
                        <span class="btn-icon">üéÅ</span>
                        <span class="btn-text">Daily Boost</span>
                    </button>
                    <button class="control-btn turbo" onclick="activateTurbo()" id="turboBtn">
                        <span class="btn-icon">üöÄ</span>
                        <span class="btn-text">Turbo</span>
                    </button>
                </div>

                <!-- Quick Stats -->
                <div class="quick-stats">
                    <div class="stat-card" onclick="showWalletHistory()">
                        <div class="stat-number" id="totalPoints">0</div>
                        <div class="stat-label">Total Points</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-number" id="miningHours">0</div>
                        <div class="stat-label">Mining Hours</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-number" id="pointsEarned">0</div>
                        <div class="stat-label">Points Earned</div>
                    </div>
                </div>

                <!-- Upgrades Section -->
                <div class="upgrades-section">
                    <h3>‚ö° Upgrades</h3>
                    
                    <div class="upgrade-item">
                        <div class="upgrade-info">
                            <div class="upgrade-name">Mining Speed</div>
                            <div class="upgrade-level">Level <span id="speedLevel">1</span></div>
                        </div>
                        <button class="upgrade-btn" onclick="upgradeSpeed()" id="speedUpgradeBtn">
                            <span class="btn-cost" id="speedCost">100</span>
                        </button>
                    </div>

                    <div class="upgrade-item">
                        <div class="upgrade-info">
                            <div class="upgrade-name">Point Multiplier</div>
                            <div class="upgrade-level">Level <span id="multiplierLevel">1</span></div>
                        </div>
                        <button class="upgrade-btn" onclick="upgradeMultiplier()" id="multiplierUpgradeBtn">
                            <span class="btn-cost" id="multiplierCost">200</span>
                        </button>
                    </div>

                    <div class="upgrade-item">
                        <div class="upgrade-info">
                            <div class="upgrade-name">Mining Level</div>
                            <div class="upgrade-level" id="levelName">Bronze</div>
                        </div>
                        <button class="upgrade-btn level-up" onclick="upgradeLevel()" id="levelUpgradeBtn">
                            <span class="btn-cost" id="levelCost">500</span>
                        </button>
                    </div>
                </div>

                <!-- Bonuses Section -->
                <div class="bonuses-section">
                    <h3>üéÅ Daily Bonuses</h3>
                    <div class="bonus-cards">
                        <div class="bonus-card" onclick="claimDailyBonus()">
                            <div class="bonus-icon">üìÖ</div>
                            <div class="bonus-amount">+100</div>
                            <div class="bonus-status" id="dailyBonusStatus">Available</div>
                        </div>
                        <div class="bonus-card" onclick="claimHourlyBonus()">
                            <div class="bonus-icon">‚è∞</div>
                            <div class="bonus-amount">+25</div>
                            <div class="bonus-status" id="hourlyBonusStatus">Available</div>
                        </div>
                        <div class="bonus-card" onclick="claimStreakBonus()">
                            <div class="bonus-icon">üî•</div>
                            <div class="bonus-amount">+50</div>
                            <div class="bonus-status" id="streakBonusStatus">Day 1</div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Earn Content -->
            <div id="earnContent" class="content-page">
                <div class="page-header">
                    <h2>üí∞ Earn</h2>
                    <p class="page-subtitle">Complete tasks to earn points</p>
                </div>

                <!-- Earning Content Area -->
                <div id="earnAppContent">
                    <!-- Default Home Content -->
                    <div class="welcome-section">
                        <div class="welcome-icon">üöÄ</div>
                        <h3>Welcome to TapEarn!</h3>
                        <p>Click any platform to start earning points instantly</p>
                        
                        <div class="platforms-grid">
                            <div class="platform-card" onclick="showVideoSection()">
                                <span class="platform-icon">üé¨</span>
                                <span class="platform-name">YouTube Videos</span>
                                <span class="platform-points">+10-20 points</span>
                                <span class="platform-time">‚è±Ô∏è 1 min watch</span>
                            </div>
                            <div class="platform-card" onclick="showTelegramSection()">
                                <span class="platform-icon">üì±</span>
                                <span class="platform-name">Telegram Tasks</span>
                                <span class="platform-points">+15-30 points</span>
                                <span class="platform-time">‚ö° Instant</span>
                            </div>
                            <div class="platform-card" onclick="showInstagramSection()">
                                <span class="platform-icon">üì∑</span>
                                <span class="platform-name">Instagram Reels</span>
                                <span class="platform-points">+12-25 points</span>
                                <span class="platform-time">‚è±Ô∏è 1 min watch</span>
                            </div>
                            <div class="platform-card" onclick="showTwitterSection()">
                                <span class="platform-icon">üê¶</span>
                                <span class="platform-name">Twitter Tasks</span>
                                <span class="platform-points">+8-20 points</span>
                                <span class="platform-time">‚ö° Instant</span>
                            </div>
                        </div>

                        <div class="earn-stats">
                            <div class="earn-stat" onclick="showWalletHistory()">
                                <div class="stat-number" id="totalEarnings">0</div>
                                <div class="stat-label">Total Points</div>
                            </div>
                            <div class="earn-stat">
                                <div class="stat-number" id="totalTasks">0</div>
                                <div class="stat-label">Tasks Done</div>
                            </div>
                            <div class="earn-stat">
                                <div class="stat-number" id="todayEarnings">0</div>
                                <div class="stat-label">Today's Points</div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Tasks Content -->
            <div id="tasksContent" class="content-page">
                <div class="page-header">
                    <h2>üìã Tasks</h2>
                    <p class="page-subtitle">Complete various tasks to earn more points</p>
                </div>

                <!-- Tasks Content Area -->
                <div id="tasksAppContent">
                    <!-- Default Tasks Home Content -->
                    <div class="welcome-section">
                        <div class="welcome-icon">üìã</div>
                        <h3>Task Center</h3>
                        <p>Complete different types of tasks to maximize your earnings</p>
                        
                        <div class="platforms-grid">
                            <div class="platform-card" onclick="showFollowSection()">
                                <span class="platform-icon">üë•</span>
                                <span class="platform-name">Follow & Earn</span>
                                <span class="platform-points">+20-35 points</span>
                                <span class="platform-time">‚ö° Instant</span>
                            </div>
                            <div class="platform-card" onclick="showDailyTasksSection()">
                                <span class="platform-icon">üìÖ</span>
                                <span class="platform-name">Daily Tasks</span>
                                <span class="platform-points">+15-50 points</span>
                                <span class="platform-time">üìÖ Daily</span>
                            </div>
                            <div class="platform-card" onclick="showSocialTasksSection()">
                                <span class="platform-icon">üåê</span>
                                <span class="platform-name">Social Tasks</span>
                                <span class="platform-points">+20-50 points</span>
                                <span class="platform-time">‚ö° Instant</span>
                            </div>
                        </div>

                        <div class="earn-stats">
                            <div class="earn-stat" onclick="showWalletHistory()">
                                <div class="stat-number" id="tasksTotalPoints">0</div>
                                <div class="stat-label">Total Points</div>
                            </div>
                            <div class="earn-stat">
                                <div class="stat-number" id="tasksCompleted">0</div>
                                <div class="stat-label">Tasks Done</div>
                            </div>
                            <div class="earn-stat">
                                <div class="stat-number" id="tasksToday">0</div>
                                <div class="stat-label">Today's Tasks</div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Profile Content -->
            <div id="profileContent" class="content-page">
                <div class="page-header">
                    <h2>üë§ Profile</h2>
                    <p class="page-subtitle">Manage your account and rewards</p>
                </div>

                <!-- Profile Content Area -->
                <div id="profileAppContent">
                    <!-- Default Profile Home Content -->
                    <div class="welcome-section">
                        <div class="welcome-icon">üë§</div>
                        <h3>Your Profile</h3>
                        <p>Manage your account, rewards, and settings</p>
                        
                        <div class="platforms-grid">
                            <div class="platform-card" onclick="showCashier()">
                                <span class="platform-icon">üí∞</span>
                                <span class="platform-name">Rewards Center</span>
                                <span class="platform-points">+Gift Cards</span>
                                <span class="platform-time">üéÅ Redeem</span>
                            </div>
                            <div class="platform-card" onclick="showWalletHistory()">
                                <span class="platform-icon">üìä</span>
                                <span class="platform-name">Wallet History</span>
                                <span class="platform-points">All Transactions</span>
                                <span class="platform-time">üìà View</span>
                            </div>
                            <div class="platform-card" onclick="showReferralSystem()">
                                <span class="platform-icon">üë•</span>
                                <span class="platform-name">Refer & Earn</span>
                                <span class="platform-points">+50 points</span>
                                <span class="platform-time">‚ö° Per Referral</span>
                            </div>
                            <div class="platform-card" onclick="showSupport()">
                                <span class="platform-icon">üí¨</span>
                                <span class="platform-name">Support</span>
                                <span class="platform-points">Help Center</span>
                                <span class="platform-time">üìû 24/7</span>
                            </div>
                        </div>

                        <div class="earn-stats">
                            <div class="earn-stat" onclick="showWalletHistory()">
                                <div class="stat-number" id="profileTotalPoints">0</div>
                                <div class="stat-label">Total Points</div>
                            </div>
                            <div class="earn-stat">
                                <div class="stat-number" id="profileReferrals">0</div>
                                <div class="stat-label">Referrals</div>
                            </div>
                            <div class="earn-stat">
                                <div class="stat-number" id="profileRewards">0</div>
                                <div class="stat-label">Rewards</div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Bottom Navigation -->
        <div class="bottom-nav">
            <button class="nav-btn active" onclick="switchTab('mining')">
                <span class="nav-icon">‚õèÔ∏è</span>
                <span class="nav-label">Mining</span>
            </button>
            <button class="nav-btn" onclick="switchTab('earn')">
                <span class="nav-icon">üí∞</span>
                <span class="nav-label">Earn</span>
            </button>
            <button class="nav-btn" onclick="switchTab('tasks')">
                <span class="nav-icon">üìã</span>
                <span class="nav-label">Tasks</span>
            </button>
            <button class="nav-btn" onclick="switchTab('profile')">
                <span class="nav-icon">üë§</span>
                <span class="nav-label">Profile</span>
            </button>
        </div>
    </div>

    <script src="app.js"></script>
</body>
</html>
